@model ChangePasswordViewModel

@{
    ViewBag.Title = "ChangePassword";
}


<style>
    .form-container {
        width: 400px;
        margin: auto;
        padding: 20px;
        border: 1px solid #ddd;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        border-radius: 5px;
        background-color: #fff;
    }

        .form-container h2 {
            margin-bottom: 20px;
            text-align: center;
        }

    .form-group {
        margin-bottom: 15px;
    }

    .form-label {
        font-weight: bold;
    }

    .btn-primary {
        width: 100%;
    }

    .alert {
        margin-top: 20px;
    }

    .btn1 {
        border-radius: 4px;
        height: 44px;
        font-size: 13px;
        font-weight: 600;
        text-transform: uppercase;
        -webkit-transition: all 200ms linear;
        transition: all 200ms linear;
        padding: 0 30px;
        letter-spacing: 1px;
        display: -webkit-inline-flex;
        display: -ms-inline-flexbox;
        display: inline-flex;
        -webkit-align-items: center;
        align-items: center;
        -webkit-justify-content: center;
        justify-content: center;
        -ms-flex-pack: center;
        text-align: center;
        border: none;
        background-color: #ffeba7;
        color: #102770;
        box-shadow: 0 8px 24px 0 rgba(255,235,167,.2);
    }

        .btn1:active,
        .btn1:focus {
            background-color: #102770;
            color: #ffeba7;
            box-shadow: 0 8px 24px 0 rgba(16,39,112,.2);
        }

        .btn1:hover {
            background-color: #102770;
            color: #ffeba7;
            box-shadow: 0 8px 24px 0 rgba(16,39,112,.2);
        }
</style>

<br />
<br />
<div class="form-container">
    <h2>Change Password</h2>

    @using (Html.BeginForm("ChangePassword", "User", FormMethod.Post, new { id = "myForm" }))
    {
        @Html.AntiForgeryToken()

        <div class="form-group">
            @Html.Label("Old Password", new { @class = "form-label", id = "field1" })
            @Html.PasswordFor(model => model.OldPassword, new { @class = "form-control" })
        </div>

        <div class="form-group">
            @Html.Label("New Password", new { @class = "form-label", id = "field2" })
            @Html.PasswordFor(model => model.NewPassword, new { @class = "form-control" })
        </div>

        <div class="form-group">
            @Html.Label("Confirm Password", new { @class = "form-label" })
            @Html.PasswordFor(model => model.ConfirmPassword, new { @class = "form-control" })
        </div>
        <center>
            <input type="submit" value="Change Password" class="btn1" id="submitButton" />
        </center>
    }

    @if (TempData["ChangePasswordSuccess"] != null)
    {
        <div class="alert alert-success mt-3">
            @TempData["ChangePasswordSuccess"]
        </div>
    }
</div>

<!-- All Fields Required Popup Modal -->
<center>
    <h2 id="requiredPopup" class="modal" style="color:#ff0000;margin-top:280px">
        All fields are required.
    </h2>
</center>


<!-- jQuery Script -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        $("#myForm").on("submit", function (event) {
            event.preventDefault();

            // Check if any of the fields are empty
            if ($("#field1").val().trim() === "" || $("#field2").val().trim() === "" || $("#ConfirmPassword").val().trim() === "") {
                // Show the "All fields required" popup
                $("#requiredPopup").modal("show");
            } else {
                // Submit the form
                this.submit();
            }
        });
    });
</script>


